<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Apache Flink 1.8-SNAPSHOT Documentation: Command-Line Interface</title>
    <link rel="shortcut icon" href="//ci.apache.org/projects/flink/flink-docs-master/page/favicon.ico" type="image/x-icon">
    <link rel="icon" href="//ci.apache.org/projects/flink/flink-docs-master/page/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="//ci.apache.org/projects/flink/flink-docs-stable/ops/cli.html">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-master/page/css/flink.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-master/page/css/syntax.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-master/page/css/codetabs.css">
    <link rel="stylesheet" href="//ci.apache.org/projects/flink/flink-docs-master/page/font-awesome/css/font-awesome.min.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    

    <!-- Main content. -->
    <div class="container">
      
      <div class="row">
        <div class="col-lg-3" id="sidenavcol">
          







  
    
    
    
      
    
  

  
    
    
    
      













<div class="sidenav-logo">
  <p><a href="//ci.apache.org/projects/flink/flink-docs-master"><img class="bottom" alt="Apache Flink" src="//ci.apache.org/projects/flink/flink-docs-master/page/img/navbar-brand-logo.jpg"></a> v1.8-SNAPSHOT</p>
</div>
<ul id="sidenav">

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/"><i class="fa fa-home title" aria-hidden="true"></i> Home</a></li>
    
  

  
    

    

    
    
    

    <hr class="section-break"></hr>

    
    
      
      
        
        
<li><a href="#collapse-2" data-toggle="collapse"><i class="fa fa-map-o title appetizer" aria-hidden="true"></i> Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-2"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/concepts/programming-model.html">Programming Model</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/concepts/runtime.html">Distributed Runtime</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-6" data-toggle="collapse"><i class="fa fa-power-off title appetizer" aria-hidden="true"></i> Tutorials <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-6"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-7" data-toggle="collapse">API Tutorials <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-7"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/tutorials/datastream_api.html">DataStream API</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-10" data-toggle="collapse">Setup Tutorials <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-10"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/tutorials/local_setup.html">本地安装</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/tutorials/flink_on_windows.html">在Windows上运行Flink</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-15" data-toggle="collapse"><i class="fa fa-file-code-o title appetizer" aria-hidden="true"></i> Examples <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-15"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/examples/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/examples.html">批处理案例</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    <hr class="section-break"></hr>

    
    
      
      
        
        
<li><a href="#collapse-18" data-toggle="collapse"><i class="fa fa-code title maindish" aria-hidden="true"></i> Application Development <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-18"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-19" data-toggle="collapse">Project Build Setup <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-19"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/projectsetup/java_api_quickstart.html">Project Template for Java</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/projectsetup/scala_api_quickstart.html">Project Template for Scala</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/projectsetup/dependencies.html">Configuring Dependencies, Connectors, Libraries</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-24" data-toggle="collapse">Basic API Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-24"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/api_concepts.html">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/scala_api_extensions.html">Scala API Extensions</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/java_lambdas.html">Java Lambda Expressions</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-28" data-toggle="collapse">Streaming (DataStream API) <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-28"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/datastream_api.html">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-29" data-toggle="collapse">事件时间<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-29"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/event_time.html">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/event_timestamps_watermarks.html">生成时间戳/水印</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/event_timestamp_extractors.html">预定义的时间戳提取器/水印发射器</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-33" data-toggle="collapse">状态&容错<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-33"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/state.html">使用状态</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/broadcast_state.html">广播状态模式</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/checkpointing.html">检查点</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/queryable_state.html">可查询状态</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/state_backends.html">状态后端</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/schema_evolution.html">状态模式演进</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/custom_serialization.html">自定义状态序列化</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-42" data-toggle="collapse">Operators <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-42"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/operators/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/operators/windows.html">窗口</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/operators/joining.html">Joining</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/operators/process_function.html">过程函数</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/operators/asyncio.html">异步I/O</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-48" data-toggle="collapse">连接器<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-48"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/guarantees.html">容错性保证</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/kafka.html">Kafka</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/cassandra.html">Cassandra</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/kinesis.html">Kinesis</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/elasticsearch.html">Elasticsearch</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/filesystem_sink.html">滚动文件接收器</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/streamfile_sink.html">流文件接收器</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/rabbitmq.html">RabbitMQ</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/nifi.html">NiFi</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/connectors/twitter.html">Twitter</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/side_output.html">旁侧输出</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/python.html">Python API</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/testing.html">测试</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/stream/experimental.html">实验性功能</a></li>
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-65" data-toggle="collapse">Batch (DataSet API) <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-65"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/dataset_transformations.html">转换</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/fault_tolerance.html">容错</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/zip_elements_guide.html">Zipping Elements</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/iterations.html">迭代</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/python.html">Python API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/connectors.html">连接器</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/batch/hadoop_compatibility.html">Hadoop兼容性</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/local_execution.html">本地执行</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/cluster_execution.html">集群执行</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-76" data-toggle="collapse">Table API & SQL <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-76"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/common.html">概念&通用API</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-78" data-toggle="collapse">Streaming Concepts <i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-78"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/dynamic_tables.html">Dynamic Tables</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/time_attributes.html">Time Attributes</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/joins.html">Joins in Continuous Queries</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/temporal_tables.html">Temporal Tables</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/match_recognize.html">Detecting Patterns</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/streaming/query_configuration.html">Query Configuration</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/connect.html">连接外部系统</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/tableApi.html">Table API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/sql.html">SQL</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/functions.html">内置函数</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/sourceSinks.html">用户自定义源&接收器</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/udfs.html">用户自定义函数</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/table/sqlClient.html">SQL客户端</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-94" data-toggle="collapse">数据类型&序列化<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-94"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/types_serialization.html">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/custom_serializers.html">自定义序列化器</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-97" data-toggle="collapse">管理执行<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-97"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/execution_configuration.html">执行配置</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/packaging.html">程序打包</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/parallel.html">并行执行</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/execution_plans.html">执行计划</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/restart_strategies.html">重启策略</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-104" data-toggle="collapse">类库<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-104"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/cep.html">事件处理(CEP)</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-106" data-toggle="collapse">图计算: Gelly<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-106"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/graph_api.html">Graph API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/iterative_graph_processing.html">Iterative Graph Processing</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/library_methods.html">Library Methods</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/graph_algorithms.html">Graph Algorithms</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/graph_generators.html">Graph Generators</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/gelly/bipartite_graph.html">Bipartite Graph</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-114" data-toggle="collapse">机器学习<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-114"><ul>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/">概览</a></li>
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/quickstart.html">Quickstart</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/contribution_guide.html">How to Contribute</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/cross_validation.html">Cross Validation</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/distance_metrics.html">Distance Metrics</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/knn.html">k-Nearest Neighbors Join</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/min_max_scaler.html">MinMax Scaler</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/multiple_linear_regression.html">Multiple Linear Regression</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/pipelines.html">Pipelines</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/polynomial_features.html">Polynomial Features</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/sos.html">Stochastic Outlier Selection</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/standard_scaler.html">Standard Scaler</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/als.html">ALS</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/libs/ml/svm.html">SVM using CoCoA</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/best_practices.html">Best Practices</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/dev/migration.html">API迁移指南</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-133" data-toggle="collapse" class="active"><i class="fa fa-sliders title maindish" aria-hidden="true"></i> Deployment & Operations</a><div class="collapse in" id="collapse-133"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-134" data-toggle="collapse">集群 & 部署<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-134"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/cluster_setup.html">Standalone Cluster</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/yarn_setup.html">YARN</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/mesos.html">Mesos</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/kubernetes.html">Kubernetes</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/docker.html">Docker</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/aws.html">AWS</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/gce_setup.html">Google Compute Engine</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/mapr_setup.html">MapR</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/hadoop.html">Hadoop Integration</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/oss.html">Aliyun OSS</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/jobmanager_high_availability.html">高可用(HA)</a></li>
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-147" data-toggle="collapse">状态&容错<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-147"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/checkpoints.html">Checkpoints</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/savepoints.html">Savepoints</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/state_backends.html">状态后端</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/large_state_tuning.html">Tuning Checkpoints and Large State</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/config.html">配置</a></li>
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/production_ready.html">生产准备清单</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/cli.html" class="active">命令行界面</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/scala_shell.html">Scala REPL(交互式解释器)</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/security-kerberos.html">Kerberos</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/security-ssl.html">SSL设置</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/filesystems.html">文件系统</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/upgrading.html">升级应用程序和Flink版本</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-162" data-toggle="collapse"><i class="fa fa-bug title maindish" aria-hidden="true"></i>调试 & 监控<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-162"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/metrics.html">指标度量</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/logging.html">日志</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/historyserver.html">历史服务器</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/checkpoint_monitoring.html">监控检查点</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/back_pressure.html">监控背压</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/rest_api.html">监控REST API</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/debugging_event_time.html">调试Windows&Event Time</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/debugging_classloading.html">调试类加载</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/monitoring/application_profiling.html">应用程序分析</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    <hr class="section-break"></hr>

    
    
      
      
        
        
<li><a href="#collapse-173" data-toggle="collapse"><i class="fa fa-cogs title dessert" aria-hidden="true"></i>Flink开发<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-173"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/flinkDev/ide_setup.html">将Flink导入IDE</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/flinkDev/building.html">从源码构建Flink</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    

    

    
    
    

    

    
    
      
      
        
        
<li><a href="#collapse-177" data-toggle="collapse"><i class="fa fa-book title dessert" aria-hidden="true"></i>内幕<i class="fa fa-caret-down pull-right" aria-hidden="true" style="padding-top: 4px"></i></a><div class="collapse" id="collapse-177"><ul>
  
        
        
        

        
        
      
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/internals/components.html">Component Stack</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/internals/stream_checkpointing.html">Fault Tolerance for Data Streaming</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/internals/job_scheduling.html">Job作业和调度</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/internals/task_lifecycle.html">Task生命周期</a></li>
    
  

  
    

    

    
    
    

    

    
    
<li><a href="//ci.apache.org/projects/flink/flink-docs-master/internals/filesystems.html">文件系统</a></li>
    
  

  
    
      
      
</li></ul></div>
      
      
    
  

  
    
      
  <li class="divider"></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/api/java"><i class="fa fa-external-link title" aria-hidden="true"></i> Javadocs</a></li>
  <li><a href="//ci.apache.org/projects/flink/flink-docs-master/api/scala/index.html#org.apache.flink.api.scala.package"><i class="fa fa-external-link title" aria-hidden="true"></i> Scaladocs</a></li>
  <li><a href="http://flink.apache.org"><i class="fa fa-external-link title" aria-hidden="true"></i> Project Page</a></li>
</ul>

<div class="sidenav-search-box">
  <form class="navbar-form" role="search" action="//ci.apache.org/projects/flink/flink-docs-master/search-results.html">
    <div class="form-group">
      <input type="text" class="form-control" size="16px" name="q" placeholder="Search">
    </div>
    <button type="submit" class="btn btn-default">Go</button>
  </form>
</div>

<div class="sidenav-versions">
  <div class="dropdown">
    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Pick Docs Version
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.7">v1.7</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.6">v1.6</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.5">v1.5</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.4">v1.4</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.3">v1.3</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.2">v1.2</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.1">v1.1</a></li>
      
      <li><a href="http://ci.apache.org/projects/flink/flink-docs-release-1.0">v1.0</a></li>
      
    </ul>
  </div>
</div>

        </div>
        <div class="col-lg-9 content" id="contentcol">
          

          





  
  
    
    
      
    
  

  
  
    
    
      



<ol class="breadcrumb">

  
  
    <li><i class="fa fa-sliders title maindish" aria-hidden="true"></i> Deployment & Operations</li>
  

  
  
    <li class="active">命令行界面</li>
  

</ol>

<h1>Command-Line Interface</h1>




<p>Flink provides a Command-Line Interface (CLI) to run programs that are packaged
as JAR files, and control their execution.  The CLI is part
of any Flink setup, available in local single node setups and in
distributed setups. It is located under <code class="highlighter-rouge">&lt;flink-home&gt;/bin/flink</code>
and connects by default to the running Flink master (JobManager) that was
started from the same installation directory.</p>

<p>The command line can be used to</p>

<ul>
  <li>submit jobs for execution,</li>
  <li>cancel a running job,</li>
  <li>provide information about a job,</li>
  <li>list running and waiting jobs,</li>
  <li>trigger and dispose savepoints, and</li>
  <li>modify a running job</li>
</ul>

<p>A prerequisite to using the command line interface is that the Flink
master (JobManager) has been started (via
<code class="highlighter-rouge">&lt;flink-home&gt;/bin/start-cluster.sh</code>) or that a YARN environment is
available.</p>

<ul id="markdown-toc">
  <li><a href="#examples" id="markdown-toc-examples">案例</a>    <ul>
      <li><a href="#savepoints" id="markdown-toc-savepoints">Savepoints</a></li>
    </ul>
  </li>
  <li><a href="#usage" id="markdown-toc-usage">Usage</a></li>
</ul>

<h2 id="examples">案例</h2>

<ul>
  <li>
    <p>Run example program with no arguments:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink run ./examples/batch/WordCount.jar
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program with arguments for input and result files:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink run ./examples/batch/WordCount.jar \
                     --input file:///home/user/hamlet.txt --output file:///home/user/wordcount_out
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program with parallelism 16 and arguments for input and result files:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink run -p 16 ./examples/batch/WordCount.jar \
                     --input file:///home/user/hamlet.txt --output file:///home/user/wordcount_out
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program with flink log output disabled:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ./bin/flink run -q ./examples/batch/WordCount.jar
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program in detached mode:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    ./bin/flink run -d ./examples/batch/WordCount.jar
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program on a specific JobManager:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink run -m myJMHost:8081 \
                       ./examples/batch/WordCount.jar \
                       --input file:///home/user/hamlet.txt --output file:///home/user/wordcount_out
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program with a specific class as an entry point:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink run -c org.apache.flink.examples.java.wordcount.WordCount \
                       ./examples/batch/WordCount.jar \
                       --input file:///home/user/hamlet.txt --output file:///home/user/wordcount_out
</code></pre></div>    </div>
  </li>
  <li>
    <p>Run example program using a <a href="//ci.apache.org/projects/flink/flink-docs-master/ops/deployment/yarn_setup.html#run-a-single-flink-job-on-hadoop-yarn">per-job YARN cluster</a> with 2 TaskManagers:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink run -m yarn-cluster -yn 2 \
                       ./examples/batch/WordCount.jar \
                       --input hdfs:///user/hamlet.txt --output hdfs:///user/wordcount_out
</code></pre></div>    </div>
  </li>
  <li>
    <p>Display the optimized execution plan for the WordCount example program as JSON:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink info ./examples/batch/WordCount.jar \
                        --input file:///home/user/hamlet.txt --output file:///home/user/wordcount_out
</code></pre></div>    </div>
  </li>
  <li>
    <p>List scheduled and running jobs (including their JobIDs):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink list
</code></pre></div>    </div>
  </li>
  <li>
    <p>List scheduled jobs (including their JobIDs):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink list -s
</code></pre></div>    </div>
  </li>
  <li>
    <p>List running jobs (including their JobIDs):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink list -r
</code></pre></div>    </div>
  </li>
  <li>
    <p>List all existing jobs (including their JobIDs):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink list -a
</code></pre></div>    </div>
  </li>
  <li>
    <p>List running Flink jobs inside Flink YARN session:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink list -m yarn-cluster -yid &lt;yarnApplicationID&gt; -r
</code></pre></div>    </div>
  </li>
  <li>
    <p>Cancel a job:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink cancel &lt;jobID&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Cancel a job with a savepoint:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink cancel -s [targetDirectory] &lt;jobID&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Stop a job (streaming jobs only):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink stop &lt;jobID&gt;
</code></pre></div>    </div>
  </li>
  <li>
    <p>Modify a running job (streaming jobs only):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./bin/flink modify &lt;jobID&gt; -p &lt;newParallelism&gt;
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>NOTE</strong>: The difference between cancelling and stopping a (streaming) job is the following:</p>

<p>On a cancel call, the operators in a job immediately receive a <code class="highlighter-rouge">cancel()</code> method call to cancel them as
soon as possible.
If operators are not not stopping after the cancel call, Flink will start interrupting the thread periodically
until it stops.</p>

<p>A “stop” call is a more graceful way of stopping a running streaming job. Stop is only available for jobs
which use sources that implement the <code class="highlighter-rouge">StoppableFunction</code> interface. When the user requests to stop a job,
all sources will receive a <code class="highlighter-rouge">stop()</code> method call. The job will keep running until all sources properly shut down.
This allows the job to finish processing all inflight data.</p>

<h3 id="savepoints">Savepoints</h3>

<p><a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/savepoints.html">Savepoints</a> are controlled via the command line client:</p>

<h4 id="trigger-a-savepoint">Trigger a Savepoint</h4>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink savepoint &lt;jobId&gt; <span class="o">[</span>savepointDirectory]</code></pre></figure>

<p>This will trigger a savepoint for the job with ID <code class="highlighter-rouge">jobId</code>, and returns the path of the created savepoint. You need this path to restore and dispose savepoints.</p>

<p>Furthermore, you can optionally specify a target file system directory to store the savepoint in. The directory needs to be accessible by the JobManager.</p>

<p>If you don’t specify a target directory, you need to have <a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/savepoints.html#configuration">configured a default directory</a>. Otherwise, triggering the savepoint will fail.</p>

<h4 id="trigger-a-savepoint-with-yarn">Trigger a Savepoint with YARN</h4>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink savepoint &lt;jobId&gt; <span class="o">[</span>savepointDirectory] <span class="nt">-yid</span> &lt;yarnAppId&gt;</code></pre></figure>

<p>This will trigger a savepoint for the job with ID <code class="highlighter-rouge">jobId</code> and YARN application ID <code class="highlighter-rouge">yarnAppId</code>, and returns the path of the created savepoint.</p>

<p>Everything else is the same as described in the above <strong>Trigger a Savepoint</strong> section.</p>

<h4 id="cancel-with-a-savepoint">Cancel with a savepoint</h4>

<p>You can atomically trigger a savepoint and cancel a job.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink cancel <span class="nt">-s</span> <span class="o">[</span>savepointDirectory] &lt;jobID&gt;</code></pre></figure>

<p>If no savepoint directory is configured, you need to configure a default savepoint directory for the Flink installation (see <a href="//ci.apache.org/projects/flink/flink-docs-master/ops/state/savepoints.html#configuration">Savepoints</a>).</p>

<p>The job will only be cancelled if the savepoint succeeds.</p>

<h4 id="restore-a-savepoint">Restore a savepoint</h4>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink run <span class="nt">-s</span> &lt;savepointPath&gt; ...</code></pre></figure>

<p>The run command has a savepoint flag to submit a job, which restores its state from a savepoint. The savepoint path is returned by the savepoint trigger command.</p>

<p>By default, we try to match all savepoint state to the job being submitted. If you want to allow to skip savepoint state that cannot be restored with the new job you can set the <code class="highlighter-rouge">allowNonRestoredState</code> flag. You need to allow this if you removed an operator from your program that was part of the program when the savepoint was triggered and you still want to use the savepoint.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink run <span class="nt">-s</span> &lt;savepointPath&gt; <span class="nt">-n</span> ...</code></pre></figure>

<p>This is useful if your program dropped an operator that was part of the savepoint.</p>

<h4 id="dispose-a-savepoint">Dispose a savepoint</h4>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink savepoint <span class="nt">-d</span> &lt;savepointPath&gt;</code></pre></figure>

<p>Disposes the savepoint at the given path. The savepoint path is returned by the savepoint trigger command.</p>

<p>If you use custom state instances (for example custom reducing state or RocksDB state), you have to specify the path to the program JAR with which the savepoint was triggered in order to dispose the savepoint with the user code class loader:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./bin/flink savepoint <span class="nt">-d</span> &lt;savepointPath&gt; <span class="nt">-j</span> &lt;jarFile&gt;</code></pre></figure>

<p>Otherwise, you will run into a <code class="highlighter-rouge">ClassNotFoundException</code>.</p>

<h2 id="usage">Usage</h2>

<p>The command line syntax is as follows:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">./flink &lt;ACTION&gt; <span class="o">[</span>OPTIONS] <span class="o">[</span>ARGUMENTS]

The following actions are available:

Action <span class="s2">"run"</span> compiles and runs a program.

  Syntax: run <span class="o">[</span>OPTIONS] &lt;jar-file&gt; &lt;arguments&gt;
  <span class="s2">"run"</span> action options:
     <span class="nt">-c</span>,--class &lt;classname&gt;               Class with the program entry point
                                          <span class="o">(</span><span class="s2">"main"</span> method or <span class="s2">"getPlan()"</span> method.
                                          Only needed <span class="k">if </span>the JAR file does not
                                          specify the class <span class="k">in </span>its manifest.
     <span class="nt">-C</span>,--classpath &lt;url&gt;                 Adds a URL to each user code
                                          classloader  on all nodes <span class="k">in </span>the
                                          cluster. The paths must specify a
                                          protocol <span class="o">(</span>e.g. file://<span class="o">)</span> and be
                                          accessible on all nodes <span class="o">(</span>e.g. by means
                                          of a NFS share<span class="o">)</span><span class="nb">.</span> You can use this
                                          option multiple <span class="nb">times </span><span class="k">for </span>specifying
                                          more than one URL. The protocol must
                                          be supported by the <span class="o">{</span>@link
                                          java.net.URLClassLoader<span class="o">}</span><span class="nb">.</span>
     <span class="nt">-d</span>,--detached                        If present, runs the job <span class="k">in </span>detached
                                          mode
     <span class="nt">-n</span>,--allowNonRestoredState           Allow to skip savepoint state that
                                          cannot be restored. You need to allow
                                          this <span class="k">if </span>you removed an operator from
                                          your program that was part of the
                                          program when the savepoint was
                                          triggered.
     <span class="nt">-p</span>,--parallelism &lt;parallelism&gt;       The parallelism with which to run the
                                          program. Optional flag to override the
                                          default value specified <span class="k">in </span>the
                                          configuration.
     <span class="nt">-q</span>,--sysoutLogging                   If present, suppress logging output to
                                          standard out.
     <span class="nt">-s</span>,--fromSavepoint &lt;savepointPath&gt;   Path to a savepoint to restore the job
                                          from <span class="o">(</span><span class="k">for </span>example
                                          hdfs:///flink/savepoint-1537<span class="o">)</span><span class="nb">.</span>
     <span class="nt">-sae</span>,--shutdownOnAttachedExit        If the job is submitted <span class="k">in </span>attached
                                          mode, perform a best-effort cluster
                                          shutdown when the CLI is terminated
                                          abruptly, e.g., <span class="k">in </span>response to a user
                                          interrupt, such as typing Ctrl + C.
  Options <span class="k">for </span>yarn-cluster mode:
     <span class="nt">-d</span>,--detached                        If present, runs the job <span class="k">in </span>detached
                                          mode
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;                Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to
                                          which to connect. Use this flag to
                                          connect to a different JobManager than
                                          the one specified <span class="k">in </span>the
                                          configuration.
     <span class="nt">-sae</span>,--shutdownOnAttachedExit        If the job is submitted <span class="k">in </span>attached
                                          mode, perform a best-effort cluster
                                          shutdown when the CLI is terminated
                                          abruptly, e.g., <span class="k">in </span>response to a user
                                          interrupt, such as typing Ctrl + C.
     <span class="nt">-yD</span> &lt;<span class="nv">property</span><span class="o">=</span>value&gt;                 use value <span class="k">for </span>given property
     <span class="nt">-yd</span>,--yarndetached                   If present, runs the job <span class="k">in </span>detached
                                          mode <span class="o">(</span>deprecated<span class="p">;</span> use non-YARN
                                          specific option instead<span class="o">)</span>
     <span class="nt">-yh</span>,--yarnhelp                       Help <span class="k">for </span>the Yarn session CLI.
     <span class="nt">-yid</span>,--yarnapplicationId &lt;arg&gt;       Attach to running YARN session
     <span class="nt">-yj</span>,--yarnjar &lt;arg&gt;                  Path to Flink jar file
     <span class="nt">-yjm</span>,--yarnjobManagerMemory &lt;arg&gt;    Memory <span class="k">for </span>JobManager Container
                                          with optional unit <span class="o">(</span>default: MB<span class="o">)</span>
     <span class="nt">-yn</span>,--yarncontainer &lt;arg&gt;            Number of YARN container to allocate
                                          <span class="o">(=</span>Number of Task Managers<span class="o">)</span>
     <span class="nt">-ynm</span>,--yarnname &lt;arg&gt;                Set a custom name <span class="k">for </span>the application
                                          on YARN
     <span class="nt">-yq</span>,--yarnquery                      Display available YARN resources
                                          <span class="o">(</span>memory, cores<span class="o">)</span>
     <span class="nt">-yqu</span>,--yarnqueue &lt;arg&gt;               Specify YARN queue.
     <span class="nt">-ys</span>,--yarnslots &lt;arg&gt;                Number of slots per TaskManager
     <span class="nt">-yst</span>,--yarnstreaming                 Start Flink <span class="k">in </span>streaming mode
     <span class="nt">-yt</span>,--yarnship &lt;arg&gt;                 Ship files <span class="k">in </span>the specified directory
                                          <span class="o">(</span>t <span class="k">for </span>transfer<span class="o">)</span>, multiple options are 
                                          supported.
     <span class="nt">-ytm</span>,--yarntaskManagerMemory &lt;arg&gt;   Memory per TaskManager Container
                                          with optional unit <span class="o">(</span>default: MB<span class="o">)</span>
     <span class="nt">-yz</span>,--yarnzookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper
                                          sub-paths <span class="k">for </span>high availability mode
     <span class="nt">-ynl</span>,--yarnnodeLabel &lt;arg&gt;           Specify YARN node label <span class="k">for 
                                          </span>the YARN application 
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;        Namespace to create the Zookeeper
                                          sub-paths <span class="k">for </span>high availability mode

  Options <span class="k">for </span>default mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;           Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to which
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="k">in </span>the configuration.
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="k">for </span>high availability mode



Action <span class="s2">"info"</span> shows the optimized execution plan of the program <span class="o">(</span>JSON<span class="o">)</span><span class="nb">.</span>

  Syntax: info <span class="o">[</span>OPTIONS] &lt;jar-file&gt; &lt;arguments&gt;
  <span class="s2">"info"</span> action options:
     <span class="nt">-c</span>,--class &lt;classname&gt;           Class with the program entry point <span class="o">(</span><span class="s2">"main"</span>
                                      method or <span class="s2">"getPlan()"</span> method. Only needed
                                      <span class="k">if </span>the JAR file does not specify the class
                                      <span class="k">in </span>its manifest.
     <span class="nt">-p</span>,--parallelism &lt;parallelism&gt;   The parallelism with which to run the
                                      program. Optional flag to override the
                                      default value specified <span class="k">in </span>the
                                      configuration.


Action <span class="s2">"list"</span> lists running and scheduled programs.

  Syntax: list <span class="o">[</span>OPTIONS]
  <span class="s2">"list"</span> action options:
     <span class="nt">-r</span>,--running     Show only running programs and their JobIDs
     <span class="nt">-s</span>,--scheduled   Show only scheduled programs and their JobIDs
  Options <span class="k">for </span>yarn-cluster mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;            Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to
                                      which to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="k">in </span>the configuration.
     <span class="nt">-yid</span>,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="k">for </span>high availability mode

  Options <span class="k">for </span>default mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;           Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to which
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="k">in </span>the configuration.
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="k">for </span>high availability mode



Action <span class="s2">"stop"</span> stops a running program <span class="o">(</span>streaming <span class="nb">jobs </span>only<span class="o">)</span><span class="nb">.</span>

  Syntax: stop <span class="o">[</span>OPTIONS] &lt;Job ID&gt;
  <span class="s2">"stop"</span> action options:

  Options <span class="k">for </span>yarn-cluster mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;            Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to
                                      which to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="k">in </span>the configuration.
     <span class="nt">-yid</span>,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="k">for </span>high availability mode

  Options <span class="k">for </span>default mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;           Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to which
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="k">in </span>the configuration.
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="k">for </span>high availability mode



Action <span class="s2">"cancel"</span> cancels a running program.

  Syntax: cancel <span class="o">[</span>OPTIONS] &lt;Job ID&gt;
  <span class="s2">"cancel"</span> action options:
     <span class="nt">-s</span>,--withSavepoint &lt;targetDirectory&gt;   Trigger savepoint and cancel job.
                                            The target directory is optional. If
                                            no directory is specified, the
                                            configured default directory
                                            <span class="o">(</span>state.savepoints.dir<span class="o">)</span> is used.
  Options <span class="k">for </span>yarn-cluster mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;            Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to
                                      which to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="k">in </span>the configuration.
     <span class="nt">-yid</span>,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="k">for </span>high availability mode

  Options <span class="k">for </span>default mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;           Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to which
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="k">in </span>the configuration.
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="k">for </span>high availability mode



Action <span class="s2">"savepoint"</span> triggers savepoints <span class="k">for </span>a running job or disposes existing ones.

  Syntax: savepoint <span class="o">[</span>OPTIONS] &lt;Job ID&gt; <span class="o">[</span>&lt;target directory&gt;]
  <span class="s2">"savepoint"</span> action options:
     <span class="nt">-d</span>,--dispose &lt;arg&gt;       Path of savepoint to dispose.
     <span class="nt">-j</span>,--jarfile &lt;jarfile&gt;   Flink program JAR file.
  Options <span class="k">for </span>yarn-cluster mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;            Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to
                                      which to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="k">in </span>the configuration.
     <span class="nt">-yid</span>,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="k">for </span>high availability mode

  Options <span class="k">for </span>default mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;           Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to which
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="k">in </span>the configuration.
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="k">for </span>high availability mode



Action <span class="s2">"modify"</span> modifies a running job <span class="o">(</span>e.g. change of parallelism<span class="o">)</span><span class="nb">.</span>

  Syntax: modify &lt;Job ID&gt; <span class="o">[</span>OPTIONS]
  <span class="s2">"modify"</span> action options:
     <span class="nt">-h</span>,--help                           Show the <span class="nb">help </span>message <span class="k">for </span>the CLI
                                         Frontend or the action.
     <span class="nt">-p</span>,--parallelism &lt;newParallelism&gt;   New parallelism <span class="k">for </span>the specified job.
     <span class="nt">-v</span>,--verbose                        This option is deprecated.
  Options <span class="k">for </span>yarn-cluster mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;            Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to
                                      which to connect. Use this flag to connect
                                      to a different JobManager than the one
                                      specified <span class="k">in </span>the configuration.
     <span class="nt">-yid</span>,--yarnapplicationId &lt;arg&gt;   Attach to running YARN session
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;    Namespace to create the Zookeeper
                                      sub-paths <span class="k">for </span>high availability mode

  Options <span class="k">for </span>default mode:
     <span class="nt">-m</span>,--jobmanager &lt;arg&gt;           Address of the JobManager <span class="o">(</span>master<span class="o">)</span> to which
                                     to connect. Use this flag to connect to a
                                     different JobManager than the one specified
                                     <span class="k">in </span>the configuration.
     <span class="nt">-z</span>,--zookeeperNamespace &lt;arg&gt;   Namespace to create the Zookeeper sub-paths
                                     <span class="k">for </span>high availability mode</code></pre></figure>

<p><a href="#top" class="top pull-right"><span class="glyphicon glyphicon-chevron-up"></span> Back to top</a></p>


        </div>
      </div>
    </div><!-- /.container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//ci.apache.org/projects/flink/flink-docs-master/page/js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.1.0/anchor.min.js"></script>
    <script src="//ci.apache.org/projects/flink/flink-docs-master/page/js/flink.js"></script>

    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-52545728-1', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- Disqus -->
    
  </body>
</html>
